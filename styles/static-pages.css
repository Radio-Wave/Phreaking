:root {
  color-scheme: dark;
}

body{
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  line-height: 1.45;
  text-rendering: optimizeLegibility;
}

.layout {
  margin: 0;
  padding: 0;
  display: block;
}

.right {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 1.5rem;
  padding: clamp(3rem, 8vw, 6rem) 6vw;
  max-width: 720px;
  /* Match the sidebar width and gap from sidebar.css */
  margin-left: calc(var(--pc-sidebar-width) + var(--pc-sidebar-gap));
  transition: margin-left 0.25s ease;
}

/* Add collapsed state margin */
.sidebar-collapsed .right {
  margin-left: calc(var(--pc-sidebar-collapsed-width) + var(--pc-sidebar-gap));
}

/* Hero media (BitRot poster) */
.hero-media{ margin: 0 0 1rem 0; }
.hero-media img{
  display:block;
  width:100%;
  height:auto;
  aspect-ratio: 16/9;     /* keeps a calm window; remove if you want raw image ratio */
  object-fit: cover;
  background:#111;        /* fallback */
  border: 1px solid var(--rule);
}

.right h1 {
  margin: 0;
  font-size: clamp(42px, 6vw, 72px);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.lede {

  color: var(--muted);
  font-size: 14px;
  max-width: 60ch;
 margin: 0 0 1rem 0; 
}

.section-title {
  margin: 0;
  font-size: clamp(18px, 2vw, 22px);
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

.body-text {
  margin: 0;
  color: rgba(255, 255, 255, 0.75);
  font-size: clamp(16px, 2vw, 20px);
  line-height: 1.7;
}

.section {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}
p{
  color: var(--muted);
  font-size: 14px;
  max-width: 60ch;
}
p{ margin: 0 0 1rem 0; }
.keywords {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem 1.25rem;
  padding: 0;
  list-style: none;
  font-size: clamp(14px, 1.6vw, 18px);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

/* Horizontal meta blocks (mirrors does-cloud-compute layout) */
.meta {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: clamp(14px, 3vw, 32px);
  padding: clamp(16px, 4vw, 36px) 0;
  border-top: 1px solid var(--rule);
  border-bottom: 1px solid var(--rule);
  width: 100%;
  margin: 0 0 1rem 0;
}

.meta-block:nth-child(1) { grid-column: span 4; }
.meta-block:nth-child(2) { grid-column: span 4; }
.meta-block:nth-child(3) { grid-column: span 4; }

@media (max-width: 900px) {
  .meta {
    grid-template-columns: 1fr;
  }
  .meta-block {
    grid-column: auto;
  }
}

.meta h2 {
  font-size: clamp(16px, 2.2vw, 18px);
  margin: 0 0 0.5rem 0;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: var(--ink);
}

.contact-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  font-size: clamp(16px, 2vw, 20px);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.contact-link {
  color: #fff;
  text-decoration: none;
  position: relative;
  padding-bottom: 0.15em;
}

.contact-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100%;
  height: 1px;
  background: rgba(255, 255, 255, 0.4);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 160ms ease-out;
}

.contact-link:focus-visible::after,
.contact-link:hover::after {
  transform: scaleX(1);
}

footer {
  margin-top: 1.5rem;
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(255, 255, 255, 0.6);
}

/* Remove margin on mobile */
@media (max-width: 640px) {
  .right {
    margin-left: 0;
    min-height: 0; /* Remove full-height requirement on mobile */
  }
  
  /* Ensure collapsed state doesn't affect mobile */
  .sidebar-collapsed .right {
    margin-left: 0;
  }
}
/* Mobile: make the layout truly one column */
@media (max-width: 640px){
  .left,
  .left.pc-sidebar{
    position: static;
    width: auto;
    height: auto;
    border-right: none;
    border-bottom: 1px solid var(--rule, #fff);
    padding: var(--pad, 16px);
  }

  .right{
    margin-left: 0 !important;          /* <-- kills the big gap */
    padding: var(--pad, 16px);
  }

  #sidebarToggle.hamburger{ display: none !important; }

  /* Bigger logo with less top gap on mobile */
  .logoImg{
    margin-top: 0;
    width: clamp(220px, 65vw, 360px);
  }
}

/*
 * Shared image gallery + lightbox (borrowed from BitRot page)
 * Usage: wrap items in .pc-gallery > .pc-grid > .pc-item > img + figcaption
 */
.pc-gallery{ --gap:6px; --maxw:1400px; margin:0 auto; max-width:var(--maxw); width:100%; }

.pc-grid{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--gap);
}
.pc-gallery.three-wide .pc-grid{ grid-template-columns: repeat(3, 1fr); }
@media (max-width:1100px){ .pc-grid{ grid-template-columns: repeat(3, 1fr); } }
@media (max-width:800px){  .pc-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width:520px){  .pc-grid{ grid-template-columns: 1fr; } }

.pc-item{ margin:0; position:relative; cursor:zoom-in; }
.pc-item img{ width:100%; height:100%; aspect-ratio:1/1; object-fit:cover; display:block; }
.pc-item figcaption{ display:none; }

/* Lightbox shell */
.pc-lightbox{ position:fixed; inset:0; display:none; background:rgba(0,0,0,.95); z-index:9999; align-items:center; justify-content:center; }
.pc-lightbox[aria-hidden="false"]{ display:flex; }
.pc-lightbox__inner{ max-width:95vw; max-height:92vh; width:auto; height:auto; position:relative; }
.pc-lightbox__img{ max-width:95vw; max-height:80vh; width:auto; height:auto; display:block; margin:0 auto; }
.pc-lightbox__caption{ margin-top:10px; font-size:14px; color:#cfcfcf; text-align:center; line-height:1.4; }

/* Lightbox controls */
:root{
  --lb-btn-size: 56px;
  --lb-font-size: 20px;
  --lb-gap: 16px;
  --lb-border: 1.5px;
  --lb-radius: 10px;
  --lb-close-size: 48px;
  --lb-close-font: 22px;
  --lb-close-gap: 12px;
}

.pc-lightbox__btn{
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10010;
  width: var(--lb-btn-size);
  height: var(--lb-btn-size);
  display: grid;
  place-items: center;
  border: var(--lb-border) solid rgba(255,255,255,.85);
  background: rgba(0,0,0,.35);
  color: #fff;
  font-size: var(--lb-font-size);
  line-height: 1;
  cursor: pointer;
  user-select: none;
}

.pc-lightbox__prev{ left: var(--lb-gap);  right: auto; }
.pc-lightbox__next{ right: var(--lb-gap); left:  auto; }

.pc-lightbox__btn:hover{ background: rgba(255,255,255,.08); }
.pc-lightbox__btn > *{ pointer-events: none; }

@media (max-width: 640px){
  :root{
    --lb-btn-size: 48px;
    --lb-font-size: 18px;
    --lb-gap: 8px;
    --lb-border: 1px;
    --lb-radius: 8px;
  }
}

.pc-lightbox__close{
  position: fixed;
  top: calc(var(--lb-close-gap) + env(safe-area-inset-top));
  right: calc(var(--lb-close-gap) + env(safe-area-inset-right));
  z-index: 10020;

  width: var(--lb-close-size);
  height: var(--lb-close-size);
  display: grid;
  place-items: center;

  border: var(--lb-border, 1.5px) solid rgba(255,255,255,.85);
  background: rgba(0,0,0,.35);
  color: #fff;

  cursor: pointer;
  user-select: none;
  font-size: 0;
}

.pc-lightbox__close::before{
  content: 'Ã—';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: var(--lb-close-font);
  line-height: 1;
}

.pc-lightbox__close:hover{ background: rgba(255,255,255,.08); }
